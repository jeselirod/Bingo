import{$a as F,Fa as P,Ga as T,H as k,Ha as D,Ia as A,Ja as O,Ka as b,L as p,La as a,Ma as r,Na as f,Oa as j,Pa as g,Q as _,Qa as h,R as C,Ra as o,S as N,Sa as E,T as I,Ta as x,Va as R,Za as v,_ as s,ib as V,jb as z,la as l,ua as m}from"./chunk-IIF3JUB2.js";import"./chunk-2NFLSA4Y.js";var w=class n{number=F(null);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-bola"]],inputs:{number:[1,"number"]},decls:5,vars:1,consts:[[1,"sphere-container"],[1,"sphere"],[1,"sphere-face"],[1,"number"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o(4),r()()()()),e&2&&(l(4),E(t.number()!==null?t.number():"?"))},styles:['[_nghost-%COMP%]{display:block;perspective:800px}.sphere-container[_ngcontent-%COMP%]{width:128px;height:128px;position:relative;transform-style:preserve-3d}.sphere[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform-style:preserve-3d;transform:rotateX(15deg) rotateY(0);transition:transform .5s ease-out}.sphere-face[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:50%;background:radial-gradient(circle at 30% 30%,#fff,#e0e0e0 40%,#b0b0b0 70%,gray);display:flex;align-items:center;justify-content:center;font-size:3rem;font-weight:700;color:#4f46e5;box-shadow:inset 4px 4px 12px #0003,inset -4px -4px 12px #fff9,0 4px 8px #0000004d;overflow:hidden}.sphere-face[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:50%;background:radial-gradient(circle at center,transparent 60%,rgba(0,0,0,.2) 100%);pointer-events:none}.number[_ngcontent-%COMP%]{position:relative;z-index:1}.sphere-face[_ngcontent-%COMP%]:after{content:"";position:absolute;top:20%;left:50%;width:30%;height:30%;background:radial-gradient(circle at center,rgba(255,255,255,.9),transparent 70%);border-radius:50%;transform:translate(-50%,-50%);pointer-events:none}']})};var c=class n{remainingBallsSignal=s(Array.from({length:90},(i,e)=>e+1));remainingBalls=this.remainingBallsSignal.asReadonly();currentBallSignal=s(null);currentBall=this.currentBallSignal.asReadonly();drawnNumberSignal=s([]);drawnNumber=this.drawnNumberSignal.asReadonly();displayBallSignal=s(null);displayBall=this.displayBallSignal.asReadonly();isAnimatingSignal=s(!1);isAnimating=this.isAnimatingSignal.asReadonly();animationIntervalId=null;animationDuration=1e3;intervalStep=50;numbersBingo=90;constructor(){}resetBalls(){this.remainingBallsSignal.set(Array.from({length:this.numbersBingo},(i,e)=>e+1)),this.drawnNumberSignal.set([]),this.currentBallSignal.set(null),this.displayBallSignal.set(null)}nextBall(){if(this.isAnimatingSignal())return;let i=this.remainingBallsSignal();if(i.length===0){alert("\xA1Se han acabado las bolas!");return}this.isAnimatingSignal.set(!0);let e=Math.floor(Math.random()*i.length),t=i[e],d=Date.now();this.animationIntervalId=setInterval(()=>{if(Date.now()-d>=this.animationDuration)clearInterval(this.animationIntervalId),this.displayBallSignal.set(t),this.currentBallSignal.set(t),this.remainingBallsSignal.update(u=>u.filter(q=>q!==t)),this.drawnNumberSignal.update(u=>[...u,t]),this.isAnimatingSignal.set(!1);else{let u=Math.floor(Math.random()*this.remainingBalls().length);this.displayBallSignal.set(this.remainingBalls()[u])}},this.intervalStep)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var B=class n{bingoService=p(c);remainingCount=v(()=>this.bingoService.remainingBalls().length);constructor(){}ngOnInit(){this.bingoService.resetBalls()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-bombo"]],decls:6,vars:3,consts:[[1,"relative","overflow-hidden","flex","flex-col","items-center","justify-center","space-y-6","p-6","bg-gradient-to-r","from-indigo-500","via-purple-600","to-pink-500","rounded-lg","shadow-lg","max-w-xs","mx-auto"],[3,"number"],[1,"px-6","py-3","bg-indigo-700","text-white","rounded-lg","hover:bg-indigo-800","transition","disabled:opacity-50",3,"click","disabled"],[1,"text-white","font-semibold"]],template:function(e,t){e&1&&(a(0,"div",0),f(1,"app-bola",1),a(2,"button",2),g("click",function(){return t.bingoService.nextBall()}),o(3," Siguiente bola "),r(),a(4,"p",3),o(5),r()()),e&2&&(l(),b("number",t.bingoService.displayBall()),l(),b("disabled",t.remainingCount()===0),l(3),x(" Bolas restantes: ",t.remainingCount()," "))},dependencies:[w],styles:[".circle[_ngcontent-%COMP%]{transform-origin:center bottom}@keyframes _ngcontent-%COMP%_bounce-restricted{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.animate-bounce-restricted[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce-restricted .6s ease-in-out infinite}"]})};var G=(n,i,e)=>({"bg-green-500 text-white":n,"bg-red-600 text-white":i,"bg-gray-200 text-gray-700":e});function H(n,i){if(n&1&&(a(0,"div",2),o(1),r()),n&2){let e=i.$implicit,t=h();b("ngClass",R(2,G,t.drawnNumber().includes(e),t.drawnNumber().includes(e)&&t.drawnNumber()[t.drawnNumber().length-1]===e,!t.drawnNumber().includes(e))),l(),x(" ",e," ")}}var S=class n{bingoService=p(c);allNumbers=Array.from({length:this.bingoService.numbersBingo},(i,e)=>e+1);drawnNumber=v(()=>this.bingoService.drawnNumber());static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-tablero"]],decls:4,vars:0,consts:[[1,"tablero-container","w-full","max-w-screen-xl","mx-auto","mt-3","p-4","flex","justify-center"],[1,"grid","grid-cols-8","sm:grid-cols-8","md:grid-cols-12","lg:grid-cols-12","xl:grid-cols-15","gap-2","sm:gap-3","md:gap-4","bg-gray-800","p-4","rounded-lg","shadow-inner","w-full","max-w-7xl"],[1,"flex","items-center","justify-center","rounded-full","transition","w-8","h-8","text-xs","sm:w-9","sm:h-9","sm:text-sm","md:w-10","md:h-10","md:text-base","lg:w-12","lg:h-12","lg:text-lg","xl:w-18","xl:h-18","xl:text-2xl","font-semibold",3,"ngClass"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1),A(2,H,2,6,"div",2,D),r()()),e&2&&(l(2),O(t.allNumbers))},dependencies:[z,V],styles:["@media (min-width: 768px){.grid[_ngcontent-%COMP%]   .grid-cols-10[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10vw;height:10vw}}.grid[_ngcontent-%COMP%]{box-shadow:inset 0 0 10px #00000080}"]})};function L(n,i){if(n&1){let e=j();a(0,"div",4)(1,"div",5)(2,"h2",6),o(3,"\xBFEst\xE1s seguro de que quieres resetear el bingo?"),r(),a(4,"div",7)(5,"button",8),g("click",function(){_(e);let d=h();return C(d.confirmReset())}),o(6," S\xED, resetear "),r(),a(7,"button",9),g("click",function(){_(e);let d=h();return C(d.showResetModal.set(!1))}),o(8," Cancelar "),r()()()()}}var Y=class n{bingoService=p(c);showResetModal=s(!1);confirmReset(){this.bingoService.resetBalls(),this.showResetModal.set(!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-admin-bingo"]],decls:8,vars:1,consts:[[1,"flex","justify-start","px-4","py-2"],[1,"flex","items-center","gap-2","px-4","py-2","bg-red-600","text-white","font-semibold","rounded-md","shadow","hover:bg-red-700","transition","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v6h6M20 20v-6h-6M4 20l16-16"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/20","backdrop-blur-sm"],[1,"bg-white","p-6","rounded-lg","shadow-lg","max-w-sm","w-full","text-center"],[1,"text-lg","font-bold","mb-4","text-gray-800"],[1,"flex","justify-center","gap-4"],[1,"px-4","py-2","bg-red-600","text-white","rounded","hover:bg-red-700","transition",3,"click"],[1,"px-4","py-2","bg-gray-300","text-gray-800","rounded","hover:bg-gray-400","transition",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"button",1),g("click",function(){return t.showResetModal.set(!0)}),N(),a(2,"svg",2),f(3,"path",3),r(),o(4," Resetear Bingo "),r()(),P(5,L,9,0,"div",4),I(),f(6,"app-bombo")(7,"app-tablero")),e&2&&(l(5),T(t.showResetModal()?5:-1))},dependencies:[B,S],encapsulation:2})};export{Y as AdminBingo};
