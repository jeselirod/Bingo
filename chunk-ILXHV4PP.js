import{c as K,d as ee,f as W,g as $,h as te,l as _e}from"./chunk-NJWGLLNH.js";import{e as w}from"./chunk-NBVNGHWI.js";import{A as y,Aa as F,B as _,Ba as we,C as k,D as O,H as j,Ha as C,Ja as T,Ka as ve,O as pe,Oa as N,P as a,Ra as P,V as x,Xa as ye,_a as z,a as ue,b as me,ca as u,ea as m,fa as fe,ga as L,ha as V,ia as f,ja as s,ka as r,la as h,ma as R,na as p,nc as B,oa as g,oc as H,pa as ge,qa as be,sa as l,ta as xe,ua as M,y as d}from"./chunk-A3R4XTT4.js";function Ee(n,e){if(n&1&&(s(0,"p",1),l(1),r()),n&2){let t=g();a(),M(" ID SALA: ",t.idRoom()," ")}}var U=class n{bingoService=d(w);isAdmin=T(!1);idRoom=T("");remainingCount=C(()=>this.bingoService.remainingBalls().length);constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-bombo"]],inputs:{isAdmin:[1,"isAdmin"],idRoom:[1,"idRoom"]},decls:7,vars:4,consts:[[1,"relative","overflow-hidden","flex","flex-col","items-center","justify-center","space-y-6","p-3","bg-gradient-to-r","from-indigo-500","via-purple-600","to-pink-500","rounded-lg","shadow-lg","max-w-xs","mx-auto","mt-1"],[1,"text-white","font-semibold","text-sm","mb-2"],[3,"number"],[1,"px-6","py-3","bg-indigo-700","text-white","rounded-lg","hover:bg-indigo-800","transition","disabled:opacity-50",3,"click","disabled"],[1,"text-white","font-semibold"]],template:function(t,i){t&1&&(s(0,"div",0),u(1,Ee,2,1,"p",1),h(2,"app-bola",2),s(3,"button",3),p("click",function(){return i.bingoService.nextBall()}),l(4," Siguiente bola "),r(),s(5,"p",4),l(6),r()()),t&2&&(a(),m(i.idRoom()?1:-1),a(),f("number",i.bingoService.currentBall()),a(),f("disabled",i.remainingCount()===0||!i.isAdmin()),a(3),M(" Bolas restantes: ",i.remainingCount()," "))},dependencies:[_e],styles:[".circle[_ngcontent-%COMP%]{transform-origin:center bottom}@keyframes _ngcontent-%COMP%_bounce-restricted{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.animate-bounce-restricted[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce-restricted .6s ease-in-out infinite}"]})};var Re=(n,e,t)=>({"bg-green-500 text-white":n,"bg-red-600 text-white animate-pulse":e,"bg-gray-200 text-gray-700":t});function Pe(n,e){if(n&1&&(s(0,"div",3),l(1),r()),n&2){let t=e.$implicit,i=g(2);f("ngClass",we(2,Re,i.drawnNumbers().includes(t),i.drawnNumbers().includes(t)&&i.drawnNumbers()[i.drawnNumbers().length-1]===t,!i.drawnNumbers().includes(t))),a(),M(" ",t," ")}}function Be(n,e){if(n&1&&(s(0,"div",0)(1,"div",2),L(2,Pe,2,6,"div",3,fe),r()()),n&2){let t=g();a(2),V(t.orden()?t.drawnNumbers():t.allNumbers)}}function Ie(n,e){n&1&&(s(0,"h4",1),l(1,"No se han extraido bolas a\xFAn"),r())}var I=class n{bingoService=d(w);orden=T(!1);drawnNumbers=C(()=>this.bingoService.drawnNumbers());allNumbers=Array.from({length:this.bingoService.numbersBingo},(e,t)=>t+1);get cellSize(){return"clamp(2rem, 4vw, 4rem)"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-tablero"]],inputs:{orden:[1,"orden"]},decls:2,vars:1,consts:[[1,"tablero-container","w-full","max-w-screen-xl","mx-auto","mt-1","px-4","flex","justify-center"],[1,"m-4"],[1,"grid","grid-cols-8","sm:grid-cols-8","md:grid-cols-12","lg:grid-cols-12","xl:grid-cols-15","gap-2","sm:gap-3","md:gap-4","bg-gray-800","p-4","rounded-lg","shadow-inner","w-full","max-w-7xl"],[1,"flex","items-center","justify-center","rounded-full","transition","w-7","h-7","text-xs","sm:w-7","sm:h-7","sm:text-sm","md:w-10","md:h-10","md:text-base","lg:w-12","lg:h-12","lg:text-lg","xl:w-17","xl:h-17","xl:text-2xl","font-semibold",3,"ngClass"]],template:function(t,i){t&1&&u(0,Be,4,0,"div",0)(1,Ie,2,0,"h4",1),t&2&&m(!i.orden()||i.orden()&&i.drawnNumbers().length>0?0:1)},dependencies:[P,N],styles:["@media (min-width: 768px){.grid[_ngcontent-%COMP%]   .grid-cols-10[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:10vw;height:10vw}}.grid[_ngcontent-%COMP%]{box-shadow:inset 0 0 10px #00000080}"]})};function ie(n){return Math.abs(Math.floor(n))}function E(n,e){return Math.random()*(e-n)+n}function v(n,e){return Math.floor(E(n,e+1))}function Ce(n,e,t,i){let o=Math.pow;return Math.sqrt(o(n-t,2)+o(e-i,2))}function ne(n,e,t=1){if(n>360||n<0)throw new Error(`Expected hue 0-360 range, got \`${n}\``);if(e>100||e<0)throw new Error(`Expected lightness 0-100 range, got \`${e}\``);if(t>1||t<0)throw new Error(`Expected alpha 0-1 range, got \`${t}\``);return`hsla(${n}, 100%, ${e}%, ${t})`}var Se=n=>{if(typeof n=="object"&&n!==null){if(typeof Object.getPrototypeOf=="function"){let e=Object.getPrototypeOf(n);return e===Object.prototype||e===null}return Object.prototype.toString.call(n)==="[object Object]"}return!1},De=["__proto__","constructor","prototype"],ke=(...n)=>n.reduce((e,t)=>(Object.keys(t).forEach(i=>{De.includes(i)||(Array.isArray(e[i])&&Array.isArray(t[i])?e[i]=t[i]:Se(e[i])&&Se(t[i])?e[i]=ke(e[i],t[i]):e[i]=t[i])}),e),{});function Oe(n,e){let t;return(...i)=>{t&&clearTimeout(t),t=setTimeout(()=>n(...i),e)}}var oe=class{x;y;ctx;hue;friction;gravity;flickering;lineWidth;explosionLength;angle;speed;brightness;coordinates=[];decay;alpha=1;constructor({x:e,y:t,ctx:i,hue:o,decay:c,gravity:b,friction:S,brightness:A,flickering:D,lineWidth:J,explosionLength:X}){for(this.x=e,this.y=t,this.ctx=i,this.hue=o,this.gravity=b,this.friction=S,this.flickering=D,this.lineWidth=J,this.explosionLength=X,this.angle=E(0,Math.PI*2),this.speed=v(1,10),this.brightness=v(A.min,A.max),this.decay=E(c.min,c.max);this.explosionLength--;)this.coordinates.push([e,t])}update(e){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.friction,this.x+=Math.cos(this.angle)*this.speed,this.y+=Math.sin(this.angle)*this.speed+this.gravity,this.alpha-=this.decay,this.alpha<=this.decay&&e()}draw(){let e=this.coordinates.length-1;this.ctx.beginPath(),this.ctx.lineWidth=this.lineWidth,this.ctx.fillStyle=ne(this.hue,this.brightness,this.alpha),this.ctx.moveTo(this.coordinates[e][0],this.coordinates[e][1]),this.ctx.lineTo(this.x,this.y),this.ctx.strokeStyle=ne(this.hue,this.flickering?E(0,this.brightness):this.brightness,this.alpha),this.ctx.stroke()}},se=class{constructor(e,t){this.options=e,this.canvas=t,this.pointerDown=this.pointerDown.bind(this),this.pointerUp=this.pointerUp.bind(this),this.pointerMove=this.pointerMove.bind(this)}active=!1;x;y;get mouseOptions(){return this.options.mouse}mount(){this.canvas.addEventListener("pointerdown",this.pointerDown),this.canvas.addEventListener("pointerup",this.pointerUp),this.canvas.addEventListener("pointermove",this.pointerMove)}unmount(){this.canvas.removeEventListener("pointerdown",this.pointerDown),this.canvas.removeEventListener("pointerup",this.pointerUp),this.canvas.removeEventListener("pointermove",this.pointerMove)}usePointer(e,t){let{click:i,move:o}=this.mouseOptions;(i||o)&&(this.x=e.pageX-this.canvas.offsetLeft,this.y=e.pageY-this.canvas.offsetTop,this.active=t)}pointerDown(e){this.usePointer(e,this.mouseOptions.click)}pointerUp(e){this.usePointer(e,!1)}pointerMove(e){this.usePointer(e,this.active)}},re=class{hue;rocketsPoint;opacity;acceleration;friction;gravity;particles;explosion;mouse;boundaries;sound;delay;brightness;decay;flickering;intensity;traceLength;traceSpeed;lineWidth;lineStyle;autoresize;constructor(){this.autoresize=!0,this.lineStyle="round",this.flickering=50,this.traceLength=3,this.traceSpeed=10,this.intensity=30,this.explosion=5,this.gravity=1.5,this.opacity=.5,this.particles=50,this.friction=.95,this.acceleration=1.05,this.hue={min:0,max:360},this.rocketsPoint={min:50,max:50},this.lineWidth={explosion:{min:1,max:3},trace:{min:1,max:2}},this.mouse={click:!1,move:!1,max:1},this.delay={min:30,max:60},this.brightness={min:50,max:80},this.decay={min:.015,max:.03},this.sound={enabled:!1,files:["explosion0.mp3","explosion1.mp3","explosion2.mp3"],volume:{min:4,max:8}},this.boundaries={debug:!1,height:0,width:0,x:50,y:50}}update(e){Object.assign(this,ke(this,e))}},ae=class{constructor(e,t){this.options=e,this.render=t}tick=0;rafId=0;fps=60;tolerance=.1;now;mount(){this.now=performance.now();let e=1e3/this.fps,t=i=>{this.rafId=requestAnimationFrame(t);let o=i-this.now;o>=e-this.tolerance&&(this.render(),this.now=i-o%e,this.tick+=o*(this.options.intensity*Math.PI)/1e3)};this.rafId=requestAnimationFrame(t)}unmount(){cancelAnimationFrame(this.rafId)}},le=class{constructor(e,t,i){this.options=e,this.updateSize=t,this.container=i}resizer;mount(){if(!this.resizer){let e=Oe(()=>this.updateSize(),100);this.resizer=new ResizeObserver(e)}this.options.autoresize&&this.resizer.observe(this.container)}unmount(){this.resizer&&this.resizer.unobserve(this.container)}},ce=class{constructor(e){this.options=e,this.init()}buffers=[];audioContext;onInit=!1;get isEnabled(){return this.options.sound.enabled}get soundOptions(){return this.options.sound}init(){!this.onInit&&this.isEnabled&&(this.onInit=!0,this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.loadSounds())}async loadSounds(){for(let e of this.soundOptions.files){let t=await(await fetch(e)).arrayBuffer();this.audioContext.decodeAudioData(t).then(i=>{this.buffers.push(i)}).catch(i=>{throw i})}}play(){if(this.isEnabled&&this.buffers.length){let e=this.audioContext.createBufferSource(),t=this.buffers[v(0,this.buffers.length-1)],i=this.audioContext.createGain();e.buffer=t,i.gain.value=E(this.soundOptions.volume.min/100,this.soundOptions.volume.max/100),i.connect(this.audioContext.destination),e.connect(i),e.start(0)}else this.init()}},de=class{x;y;sx;sy;dx;dy;ctx;hue;speed;acceleration;traceLength;totalDistance;angle;brightness;coordinates=[];currentDistance=0;constructor({x:e,y:t,dx:i,dy:o,ctx:c,hue:b,speed:S,traceLength:A,acceleration:D}){for(this.x=e,this.y=t,this.sx=e,this.sy=t,this.dx=i,this.dy=o,this.ctx=c,this.hue=b,this.speed=S,this.traceLength=A,this.acceleration=D,this.totalDistance=Ce(e,t,i,o),this.angle=Math.atan2(o-t,i-e),this.brightness=v(50,70);this.traceLength--;)this.coordinates.push([e,t])}update(e){this.coordinates.pop(),this.coordinates.unshift([this.x,this.y]),this.speed*=this.acceleration;let t=Math.cos(this.angle)*this.speed,i=Math.sin(this.angle)*this.speed;this.currentDistance=Ce(this.sx,this.sy,this.x+t,this.y+i),this.currentDistance>=this.totalDistance?e(this.dx,this.dy,this.hue):(this.x+=t,this.y+=i)}draw(){let e=this.coordinates.length-1;this.ctx.beginPath(),this.ctx.moveTo(this.coordinates[e][0],this.coordinates[e][1]),this.ctx.lineTo(this.x,this.y),this.ctx.strokeStyle=ne(this.hue,this.brightness),this.ctx.stroke()}},Z=class{target;container;canvas;ctx;width;height;traces=[];explosions=[];waitStopRaf;running=!1;opts;sound;resize;mouse;raf;constructor(e,t={}){this.target=e,this.container=e,this.opts=new re,this.createCanvas(this.target),this.updateOptions(t),this.sound=new ce(this.opts),this.resize=new le(this.opts,this.updateSize.bind(this),this.container),this.mouse=new se(this.opts,this.canvas),this.raf=new ae(this.opts,this.render.bind(this))}get isRunning(){return this.running}get version(){return"2.10.8"}get currentOptions(){return this.opts}start(){this.running||(this.canvas.isConnected||this.createCanvas(this.target),this.running=!0,this.resize.mount(),this.mouse.mount(),this.raf.mount())}stop(e=!1){this.running&&(this.running=!1,this.resize.unmount(),this.mouse.unmount(),this.raf.unmount(),this.clear(),e&&this.canvas.remove())}async waitStop(e){if(this.running)return new Promise(t=>{this.waitStopRaf=()=>{this.waitStopRaf&&(requestAnimationFrame(this.waitStopRaf),!this.traces.length&&!this.explosions.length&&(this.waitStopRaf=null,this.stop(e),t()))},this.waitStopRaf()})}pause(){this.running=!this.running,this.running?this.raf.mount():this.raf.unmount()}clear(){this.ctx&&(this.traces=[],this.explosions=[],this.ctx.clearRect(0,0,this.width,this.height))}launch(e=1){for(let t=0;t<e;t++)this.createTrace();this.waitStopRaf||(this.start(),this.waitStop())}updateOptions(e){this.opts.update(e)}updateSize({width:e=this.container.clientWidth,height:t=this.container.clientHeight}={}){this.width=e,this.height=t,this.canvas.width=e,this.canvas.height=t,this.updateBoundaries(me(ue({},this.opts.boundaries),{width:e,height:t}))}updateBoundaries(e){this.updateOptions({boundaries:e})}createCanvas(e){e instanceof HTMLCanvasElement?(e.isConnected||document.body.append(e),this.canvas=e):(this.canvas=document.createElement("canvas"),this.container.append(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.updateSize()}render(){if(!this.ctx||!this.running)return;let{opacity:e,lineStyle:t,lineWidth:i}=this.opts;this.ctx.globalCompositeOperation="destination-out",this.ctx.fillStyle=`rgba(0, 0, 0, ${e})`,this.ctx.fillRect(0,0,this.width,this.height),this.ctx.globalCompositeOperation="lighter",this.ctx.lineCap=t,this.ctx.lineJoin="round",this.ctx.lineWidth=E(i.trace.min,i.trace.max),this.initTrace(),this.drawTrace(),this.drawExplosion()}createTrace(){let{hue:e,rocketsPoint:t,boundaries:i,traceLength:o,traceSpeed:c,acceleration:b,mouse:S}=this.opts;this.traces.push(new de({x:this.width*v(t.min,t.max)/100,y:this.height,dx:this.mouse.x&&S.move||this.mouse.active?this.mouse.x:v(i.x,i.width-i.x*2),dy:this.mouse.y&&S.move||this.mouse.active?this.mouse.y:v(i.y,i.height*.5),ctx:this.ctx,hue:v(e.min,e.max),speed:c,acceleration:b,traceLength:ie(o)}))}initTrace(){if(this.waitStopRaf)return;let{delay:e,mouse:t}=this.opts;(this.raf.tick>v(e.min,e.max)||this.mouse.active&&t.max>this.traces.length)&&(this.createTrace(),this.raf.tick=0)}drawTrace(){let e=this.traces.length;for(;e--;)this.traces[e].draw(),this.traces[e].update((t,i,o)=>{this.initExplosion(t,i,o),this.sound.play(),this.traces.splice(e,1)})}initExplosion(e,t,i){let{particles:o,flickering:c,lineWidth:b,explosion:S,brightness:A,friction:D,gravity:J,decay:X}=this.opts,Te=ie(o);for(;Te--;)this.explosions.push(new oe({x:e,y:t,ctx:this.ctx,hue:i,friction:D,gravity:J,flickering:v(0,100)<=c,lineWidth:E(b.explosion.min,b.explosion.max),explosionLength:ie(S),brightness:A,decay:X}))}drawExplosion(){let e=this.explosions.length;for(;e--;)this.explosions[e].draw(),this.explosions[e].update(()=>{this.explosions.splice(e,1)})}};var je=["fireworksContainer"];function Le(n,e){if(n&1){let t=R();s(0,"button",9),p("click",function(){y(t);let o=g();return _(o.toggleMenu())}),k(),s(1,"svg",10),h(2,"path",11),r()()}}function Ve(n,e){if(n&1){let t=R();s(0,"button",12),p("click",function(){y(t);let o=g();return _(o.showResetModal.set(!0))}),k(),s(1,"svg",13),h(2,"path",14),r(),l(3," Resetear Bingo "),r(),O(),s(4,"button",15),p("click",function(){y(t);let o=g();return _(o.openReview())}),k(),s(5,"svg",13),h(6,"path",16),r(),l(7," Repaso de Bolas "),r(),O(),s(8,"button",17),p("click",function(){y(t);let o=g();return _(o.showFireworks())}),k(),s(9,"svg",13),h(10,"path",18)(11,"path",19),r(),l(12," Bingo "),r()}}function Fe(n,e){if(n&1){let t=R();s(0,"div",7)(1,"div",20)(2,"h2",21),l(3,"\xBFEst\xE1s seguro de que quieres resetear el bingo?"),r(),s(4,"div",22)(5,"button",23),p("click",function(){y(t);let o=g();return _(o.confirmReset())}),l(6," S\xED, resetear "),r(),s(7,"button",24),p("click",function(){y(t);let o=g();return _(o.showResetModal.set(!1))}),l(8," Cancelar "),r()()()()}}function Ne(n,e){if(n&1){let t=R();s(0,"div",8)(1,"button",25),p("click",function(){y(t);let o=g();return _(o.closeReview())}),l(2,"\xD7"),r(),h(3,"app-tablero"),r()}}var Y=class n{authService=d(B);alertService=d(H);router=d(z);bingoService=d(w);showResetModal=j(!1);showReviewModal=j(!1);fireworksContainer=ve("fireworksContainer");fireworks=null;audio=new Audio("/Bingo/sounds/Fireworks-burst-sound.mp3");isMobile=j(!1);showMenu=j(!0);onlyLogout=T(!1);ngOnInit(){this.updateView(window.innerWidth)}onResize(e){let t=e.target.innerWidth;this.updateView(t)}updateView(e){this.isMobile.set(e<640),this.showMenu.set(!this.isMobile())}toggleMenu(){this.showMenu.update(e=>!e)}confirmReset(){this.bingoService.resetBalls(),this.showResetModal.set(!1)}showFireworks(){if(!this.fireworks){let e=this.fireworksContainer();if(!e){console.error("Los fuegos artificales no estan disponibles.");return}this.fireworks=new Z(e.nativeElement,{rocketsPoint:{min:50,max:50},acceleration:1.5,friction:.95,gravity:1.5,particles:1e3,explosion:20,boundaries:{width:window.innerWidth}})}this.fireworks.start(),this.audio.currentTime=0,this.audio.play(),setTimeout(()=>{this.fireworks?.stop(),this.audio.pause()},7e3)}openReview(){this.showReviewModal.set(!0);let e=document.documentElement;e.requestFullscreen&&e.requestFullscreen()}closeReview(){this.showReviewModal.set(!1),document.fullscreenElement&&document.exitFullscreen()}async logout(){try{await this.authService.logout(),console.log("Cierre de sesi\xF3n completado."),this.router.navigate(["/home"])}catch(e){console.error("Error en el componente al cerrar sesi\xF3n:",e),this.alertService.show(`Error al cerrar sesi\xF3n: ${e.message}`,"error",4e3)}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-menu"]],viewQuery:function(t,i){t&1&&ge(i.fireworksContainer,je,5),t&2&&be()},hostBindings:function(t,i){t&1&&p("resize",function(c){return i.onResize(c)},pe)},inputs:{onlyLogout:[1,"onlyLogout"]},decls:11,vars:5,consts:[["fireworksContainer",""],[1,"fixed","top-0","left-0","w-full","h-full","pointer-events-none","z-50"],["aria-label","Abrir men\xFA",1,"block","sm:hidden","p-2","rounded-md","text-gray-700","hover:bg-gray-200","transition"],[1,"flex","flex-col","sm:flex-row","justify-start","items-stretch","sm:items-center","px-4","py-2","space-y-2","sm:space-y-0","sm:space-x-4"],[1,"flex","items-center","gap-2","px-4","py-2","bg-red-600","text-white","hover:bg-red-700","font-bold","rounded-md","shadow","transition","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-6"],["stroke-linecap","round","stroke-linejoin","round","d","M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15m-3 0-3-3m0 0 3-3m-3 3H15"],[1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/20","backdrop-blur-sm"],[1,"fixed","inset-0","bg-white","bg-opacity-90","flex","flex-col","items-center","justify-center","z-50","p-4"],["aria-label","Abrir men\xFA",1,"block","sm:hidden","p-2","rounded-md","text-gray-700","hover:bg-gray-200","transition",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 12h16M4 18h16"],[1,"flex","items-center","gap-2","px-4","py-2","bg-red-600","text-white","font-semibold","rounded-md","shadow","hover:bg-red-700","transition","duration-200",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d",`M16.023 9.348h4.992v-.001M2.985
               19.644v-4.992m0 0h4.992m-4.993 0
               3.181 3.183a8.25 8.25 0 0 0
               13.803-3.7M4.031 9.865a8.25 8.25 0
               0 1 13.803-3.7l3.181 3.182m0-4.991v4.99`],[1,"flex","items-center","gap-2","px-4","py-2","bg-blue-600","text-white","rounded-md","shadow","hover:bg-blue-700","transition",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d",`M8.25 6.75h12M8.25 12h12m-12
               5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375
               0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75
               12h.007v.008H3.75V12Zm.375 0a.375.375 0
               1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375
               5.25h.007v.008H3.75v-.008Zm.375 0a.375.375
               0 1 1-.75 0 .375.375 0 0 1 .75 0Z`],[1,"flex","items-center","gap-2","px-4","py-2","bg-yellow-500","hover:bg-yellow-600","text-white","font-bold","rounded-md","shadow","transition","duration-300",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d",`M15.362 5.214A8.252 8.252 0
               0 1 12 21 8.25 8.25 0 0 1 6.038
               7.047 8.287 8.287 0 0 0 9 9.601a8.983
               8.983 0 0 1 3.361-6.867 8.21 8.21
               0 0 0 3 2.48Z`],["stroke-linecap","round","stroke-linejoin","round","d",`M12 18a3.75 3.75 0 0 0
               .495-7.468 5.99 5.99 0 0 0-1.925
               3.547 5.975 5.975 0 0 1-2.133-1.001A3.75
               3.75 0 0 0 12 18Z`],[1,"bg-white","p-6","rounded-lg","shadow-lg","max-w-sm","w-full","text-center"],[1,"text-lg","font-bold","mb-4","text-gray-800"],[1,"flex","justify-center","gap-4"],[1,"px-4","py-2","bg-red-600","text-white","rounded","hover:bg-red-700","transition",3,"click"],[1,"px-4","py-2","bg-gray-300","text-gray-800","rounded","hover:bg-gray-400","transition",3,"click"],[1,"absolute","top-4","right-4","text-black","text-3xl","font-bold",3,"click"]],template:function(t,i){if(t&1){let o=R();h(0,"div",1,0),u(2,Le,3,0,"button",2),s(3,"div",3),u(4,Ve,13,0),s(5,"button",4),p("click",function(){return y(o),_(i.logout())}),k(),s(6,"svg",5),h(7,"path",6),r(),l(8," Cerrar sesi\xF3n "),r()(),u(9,Fe,9,0,"div",7),u(10,Ne,4,0,"div",8)}t&2&&(a(2),m(i.isMobile()?2:-1),a(),f("@slideInOut",i.showMenu()?"open":"closed"),a(),m(i.onlyLogout()?-1:4),a(5),m(i.showResetModal()?9:-1),a(),m(i.showReviewModal()?10:-1))},dependencies:[I,P],encapsulation:2,data:{animation:[K("slideInOut",[$("closed",W({height:"0",opacity:0,overflow:"hidden"})),$("open",W({height:"*",opacity:1,overflow:"hidden"})),te("closed <=> open",ee("300ms ease-in-out"))])]}})};var ze=(n,e)=>e.uid;function We(n,e){n&1&&(s(0,"span",9),l(1," Admin "),r())}function $e(n,e){if(n&1&&(s(0,"li",4)(1,"div",5),k(),s(2,"svg",6),h(3,"path",7),r()(),O(),s(4,"span",8),l(5),r(),u(6,We,2,0,"span",9),r()),n&2){let t=e.$implicit;a(5),xe(t.name),a(),m(t.isAdmin?6:-1)}}var Q=class n{authService=d(B);bingoService=d(w);players=C(()=>this.bingoService.players());creatorId=C(()=>this.bingoService.creatorId());playersList=C(()=>{let e=this.players()||{},t=Object.entries(e).map(([c,b])=>({uid:c,name:b,isAdmin:c===this.creatorId()})),i=t.filter(c=>c.isAdmin),o=t.filter(c=>!c.isAdmin);return[...i,...o]});totalPlayers=C(()=>this.playersList().length);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-players"]],decls:7,vars:1,consts:[[1,"m-4","p-4","bg-gray-50","rounded-2xl","shadow-lg"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","text-gray-500"],[1,"space-y-2"],[1,"flex","items-center","p-2","bg-white","rounded-lg","shadow-sm","hover:bg-gray-100","transition"],[1,"flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6","text-indigo-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d",`M5.121 17.804A9.003 9.003 0 0112 15c2.21 0 4.243.896 5.879 2.344
               M15 11a3 3 0 11-6 0 3 3 0 016 0z`],[1,"ml-3","text-gray-700","font-medium"],[1,"ml-auto","bg-blue-100","text-blue-800","text-xs","font-semibold","px-2","py-0.5","rounded"]],template:function(t,i){t&1&&(s(0,"div",0)(1,"div",1)(2,"span",2),l(3),r()(),s(4,"ul",3),L(5,$e,7,2,"li",4,ze),r()()),t&2&&(a(3),M("Total: ",i.totalPlayers()),a(2),V(i.playersList()))},encapsulation:2})};var he=(n,e)=>({"bg-white text-blue-600 shadow-md":n,"text-gray-600 hover:text-blue-600":e});function He(n,e){n&1&&h(0,"app-menu")}function Ue(n,e){n&1&&h(0,"app-tablero")}function qe(n,e){n&1&&h(0,"app-tablero",6),n&2&&f("orden",!0)}function Ge(n,e){n&1&&h(0,"app-players")}var Me=class n{selectedTab="tablero";route=d(ye);router=d(z);bingoService=d(w);authService=d(B);alertService=d(H);isAdmin=!1;roomId;routeSub;ngOnInit(){this.routeSub=this.route.paramMap.subscribe(async e=>{if(this.roomId=e.get("id"),this.isAdmin=this.router.url.includes("/admin/"),!this.roomId){this.router.navigate(["/lobby"]);return}this.isAdmin?await this.bingoService.createRoom(this.roomId):await this.bingoService.joinRoom(this.roomId)})}selectTab(e){this.selectedTab=e}async ngOnDestroy(){this.routeSub.unsubscribe(),this.bingoService.unsubscribe();let e=this.authService.getCurrentUser();e&&this.roomId&&(await this.bingoService.clearUserPresence(this.roomId,e.uid),await this.bingoService.removePlayerFromRoom(e.uid))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=x({type:n,selectors:[["app-admin-bingo"]],decls:14,vars:18,consts:[[3,"isAdmin","idRoom"],[1,"max-w-[1280px]","mx-auto","mt-2"],[1,"flex","justify-start","overflow-x-auto","mx-4","bg-gray-100","p-1","rounded-full"],[1,"flex-shrink-0","px-5","py-2","rounded-full","font-medium","transition-colors","duration-200","whitespace-nowrap",3,"click","ngClass"],[1,"flex-shrink-0","ml-2","px-5","py-2","rounded-full","font-medium","transition-colors","duration-200","whitespace-nowrap",3,"click","ngClass"],[1,""],[3,"orden"]],template:function(t,i){t&1&&(u(0,He,1,0,"app-menu"),h(1,"app-bombo",0),s(2,"section",1)(3,"nav",2)(4,"button",3),p("click",function(){return i.selectTab("tablero")}),l(5," Tablero "),r(),s(6,"button",4),p("click",function(){return i.selectTab("orden")}),l(7," Bolas extra\xEDdas "),r(),s(8,"button",4),p("click",function(){return i.selectTab("players")}),l(9," Jugadores "),r()(),s(10,"div",5),u(11,Ue,1,0,"app-tablero"),u(12,qe,1,1,"app-tablero",6),u(13,Ge,1,0,"app-players"),r()()),t&2&&(m(i.isAdmin?0:-1),a(),f("isAdmin",i.isAdmin)("idRoom",i.roomId),a(3),f("ngClass",F(9,he,i.selectedTab==="tablero",i.selectedTab!=="tablero")),a(2),f("ngClass",F(12,he,i.selectedTab==="orden",i.selectedTab!=="orden")),a(2),f("ngClass",F(15,he,i.selectedTab==="players",i.selectedTab!=="players")),a(3),m(i.selectedTab==="tablero"?11:-1),a(),m(i.selectedTab==="orden"?12:-1),a(),m(i.selectedTab==="players"?13:-1))},dependencies:[P,N,Y,U,I,Q],encapsulation:2})};export{Me as BingoComponent};
